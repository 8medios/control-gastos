<script lang="ts">
  import type { Expense } from "$lib/types"; // Este componente recibe un objeto expense como prop

  export let expense: Expense; // FunciÃ³n para determinar el icono basada en la categorÃ­a
  // La movemos aquÃ­ ya que es especÃ­fica de la visualizaciÃ³n del item

  function icono(cat?: string): string {
    const mapa: Record<string, string> = {
      AlimentaciÃ³n: "ğŸ”", // Usamos las mismas categorÃ­as que en el filtro
      Transporte: "ğŸšŒ",
      Entretenimiento: "ğŸ®",
      Salud: "ğŸ¥", // AÃ±adimos algunos iconos especÃ­ficos
      EducaciÃ³n: "ğŸ“š",
      Otros: "ğŸ§¾",
    }; // Devuelve el icono si existe, de lo contrario usa el de 'Otros'
    // TambiÃ©n maneja si expense.category es undefined, tratÃ¡ndolo como 'Otros'
    const categoriaNormalizada = cat && mapa[cat] ? cat : "Otros";
    return mapa[categoriaNormalizada];
  }
</script>

<li
  class="bg-gray-100 dark:bg-gray-700 p-3 rounded-xl flex justify-between text-sm"
>
  <span>{icono(expense.category)} {expense.name}</span>
  <span>${expense.amount.toFixed(2)} â€“ {expense.date}</span>
</li>
